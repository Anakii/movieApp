(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{qhOT:function(n,l,e){"use strict";e.r(l);var b=e("8Y7J");class t{}var o=e("pMnS"),i=e("NvT6"),s=e("W5yJ"),u=e("/HVE"),a=e("SVse"),r=e("omvX"),c=e("kO7s"),v=e("Qfsm"),f=e("GUvF"),B=e("mrSG"),h=e("5ozO");const d=n=>n.homeMovies.favoriteMovies,g=n=>n.homeMovies.isLoading;let p=(()=>{class n{constructor(n,l,e){this.ngRedux=n,this.imdb=l,this.cd=e}ngOnInit(){this.ngRedux.dispatch({type:"FATCH_MOVIES_REQUEST"}),0===this.ngRedux.getState().homeMovies.favoriteMoviesIds.length?this.favoriteMoviesIdsSub=this.imdb.getFavoriteMovies().subscribe(n=>{this.ngRedux.dispatch({type:"FETCH_FAVORITE_MOVIES_IDS_SUCCESS",payload:n.favoriteMovies}),this.getFavoriteMovies()}):this.getFavoriteMovies()}getFavoriteMovies(){const n=this.ngRedux.getState().homeMovies.favoriteMoviesIds,l=this.serachMovieById(n);this.ngRedux.dispatch({type:"FETCH_FAVORIE_MOVIES_SUCCESS",payload:l})}serachMovieById(n){const l=[];return n.forEach(n=>{this.favoriteMoviesInfoSub=this.imdb.findMovieById(n).subscribe(n=>{l.push(n),this.cd.detectChanges()})}),l}ngOnDestroy(){this.favoriteMoviesIdsSub&&this.favoriteMoviesIdsSub.unsubscribe(),this.favoriteMoviesInfoSub&&this.favoriteMoviesInfoSub.unsubscribe()}}return B.a([Object(h.d)(d)],n.prototype,"favoriteMovies",void 0),B.a([Object(h.d)(g)],n.prototype,"isLoading",void 0),n})();var m=e("Fiud"),M=b.pb({encapsulation:0,styles:[[".empty__favorite-massage-container[_ngcontent-%COMP%], .spinner__flex-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;color:#fff}"]],data:{}});function I(n){return b.Mb(0,[(n()(),b.rb(0,0,null,null,2,"div",[["class","spinner__flex-container"]],null,null,null,null,null)),(n()(),b.rb(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,i.b,i.a)),b.qb(2,114688,null,0,s.d,[b.k,u.a,[2,a.d],[2,r.a],s.a],null,null)],(function(n,l){n(l,2,0)}),(function(n,l){n(l,1,0,b.Db(l,2)._noopAnimations,b.Db(l,2).diameter,b.Db(l,2).diameter)}))}function _(n){return b.Mb(0,[(n()(),b.gb(0,null,null,0))],null,null)}function y(n){return b.Mb(0,[(n()(),b.gb(0,null,null,0,null,_))],null,null)}function S(n){return b.Mb(0,[(n()(),b.rb(0,0,null,null,2,"app-movies-crousel",[],null,null,null,c.b,c.a)),b.qb(1,49152,null,0,v.a,[f.a],{movies:[0,"movies"],isHomePage:[1,"isHomePage"]},null),b.Fb(131072,a.b,[b.h])],(function(n,l){var e=l.component;n(l,1,0,b.Lb(l,1,0,b.Db(l,2).transform(e.favoriteMovies)),!1)}),null)}function F(n){return b.Mb(0,[(n()(),b.rb(0,0,null,null,2,"div",[["class","empty__favorite-massage-container"]],null,null,null,null,null)),(n()(),b.rb(1,0,null,null,1,"span",[["lass","empty__favorite-massage"]],null,null,null,null,null)),(n()(),b.Kb(-1,null,[" No movies on Favorite yet. "]))],null,null)}function E(n){return b.Mb(2,[(n()(),b.gb(16777216,null,null,2,null,I)),b.qb(1,16384,null,0,a.k,[b.N,b.K],{ngIf:[0,"ngIf"]},null),b.Fb(131072,a.b,[b.h]),(n()(),b.gb(16777216,null,null,2,null,y)),b.qb(4,16384,null,0,a.k,[b.N,b.K],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),b.Fb(131072,a.b,[b.h]),(n()(),b.gb(0,[["showFavorieMovies",2]],null,0,null,S)),(n()(),b.gb(0,[["showEmptyMsg",2]],null,0,null,F))],(function(n,l){var e,t=l.component;n(l,1,0,b.Lb(l,1,0,b.Db(l,2).transform(t.isLoading))),n(l,4,0,0!==(null==(e=b.Lb(l,4,0,b.Db(l,5).transform(t.favoriteMovies)))?null:e.length),b.Db(l,6),b.Db(l,7))}),null)}function O(n){return b.Mb(0,[(n()(),b.rb(0,0,null,null,1,"app-favorites",[],null,null,null,E,M)),b.qb(1,245760,null,0,p,[h.b,m.a,b.h],null,null)],(function(n,l){n(l,1,0)}),null)}var x=b.nb("app-favorites",p,O,{},{},[]),R=e("cyBs"),D=e("QHOK"),k=e("s7LF"),w=e("iInd");class C{}var q=e("IP0z"),H=e("Xd0L"),T=e("cUpR"),j=e("Fwaw"),A=e("BzsH"),L=e("Gi4r"),z=e("zQui"),V=e("8rEH"),P=e("PI13"),N=e("d2mR");e.d(l,"FavoriteModuleNgFactory",(function(){return U}));var U=b.ob(t,[],(function(n){return b.Ab([b.Bb(512,b.j,b.Z,[[8,[o.a,x,R.a,R.c,R.d,R.l,R.e,R.b]],[3,b.j],b.v]),b.Bb(4608,a.m,a.l,[b.s,[2,a.A]]),b.Bb(4608,D.ab,D.ab,[]),b.Bb(4608,D.j,D.j,[]),b.Bb(4608,k.r,k.r,[]),b.Bb(4608,D.R,D.R,[]),b.Bb(4608,D.ob,D.ob,[b.D,b.z,b.x]),b.Bb(4608,D.nb,D.nb,[b.j,b.x,b.p,D.ob,b.g]),b.Bb(4608,D.f,D.f,[]),b.Bb(4608,D.z,D.z,[b.D,D.nb]),b.Bb(4608,D.ib,D.ib,[]),b.Bb(4608,D.cb,D.cb,[]),b.Bb(4608,k.d,k.d,[]),b.Bb(1073742336,w.o,w.o,[[2,w.t],[2,w.k]]),b.Bb(1073742336,C,C,[]),b.Bb(1073742336,a.c,a.c,[]),b.Bb(1073742336,D.g,D.g,[]),b.Bb(1073742336,D.mb,D.mb,[]),b.Bb(1073742336,D.u,D.u,[]),b.Bb(1073742336,D.Z,D.Z,[]),b.Bb(1073742336,D.q,D.q,[]),b.Bb(1073742336,D.k,D.k,[]),b.Bb(1073742336,D.l,D.l,[]),b.Bb(1073742336,D.p,D.p,[]),b.Bb(1073742336,D.W,D.W,[]),b.Bb(1073742336,D.kb,D.kb,[]),b.Bb(1073742336,D.eb,D.eb,[]),b.Bb(1073742336,D.s,D.s,[]),b.Bb(1073742336,D.h,D.h,[]),b.Bb(1073742336,k.q,k.q,[]),b.Bb(1073742336,k.h,k.h,[]),b.Bb(1073742336,D.n,D.n,[]),b.Bb(1073742336,D.hb,D.hb,[]),b.Bb(1073742336,D.a,D.a,[]),b.Bb(1073742336,D.b,D.b,[]),b.Bb(1073742336,D.t,D.t,[]),b.Bb(1073742336,D.gb,D.gb,[]),b.Bb(1073742336,D.A,D.A,[]),b.Bb(1073742336,k.o,k.o,[]),b.Bb(1073742336,q.a,q.a,[]),b.Bb(1073742336,H.c,H.c,[[2,H.a],[2,T.f]]),b.Bb(1073742336,u.b,u.b,[]),b.Bb(1073742336,H.e,H.e,[]),b.Bb(1073742336,j.c,j.c,[]),b.Bb(1073742336,A.b,A.b,[]),b.Bb(1073742336,L.c,L.c,[]),b.Bb(1073742336,s.c,s.c,[]),b.Bb(1073742336,z.o,z.o,[]),b.Bb(1073742336,V.a,V.a,[]),b.Bb(1073742336,P.a,P.a,[]),b.Bb(1073742336,N.a,N.a,[]),b.Bb(1073742336,t,t,[]),b.Bb(1024,w.i,(function(){return[[{path:"",component:p}]]}),[]),b.Bb(256,D.c,{autoClose:!0},[])])}))}}]);